<div class="wrap">
  <div class="card" role="region" aria-label="Customer Intake">
    <div class="header">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <h1>Salon Customer Manager</h1>
      </div>
      <div class="badges">
        <span class="chip">Landing â€” Register</span>
        <span class="chip">Angular App</span>
        <span class="chip">Magenta Theme</span>
      </div>
    </div>

    <form class="content" #customerForm="ngForm" (ngSubmit)="onSubmit()">
      <div class="grid">
        <div class="col">
          <div class="row">
            <div class="field">
              <label for="firstName" class="req">First Name</label>
              <input id="firstName" type="text" [(ngModel)]="customer.firstName" name="firstName" 
                     placeholder="e.g., Ayesha" required 
                     (blur)="validateField('firstName', customer.firstName)"
                     [class.error]="fieldErrors['firstName']" />
              <div class="error-message" *ngIf="fieldErrors['firstName']">
                {{ fieldErrors['firstName'] }}
              </div>
            </div>
            <div class="field">
              <label for="lastName" class="req">Last Name</label>
              <input id="lastName" type="text" [(ngModel)]="customer.lastName" name="lastName" 
                     placeholder="e.g., Khan" required 
                     (blur)="validateField('lastName', customer.lastName)"
                     [class.error]="fieldErrors['lastName']" />
              <div class="error-message" *ngIf="fieldErrors['lastName']">
                {{ fieldErrors['lastName'] }}
              </div>
            </div>
          </div>

          <div class="row">
            <div class="field">
              <label for="phone">Phone</label>
              <input id="phone" type="tel" [(ngModel)]="customer.phone" name="phone" 
                     placeholder="(555) 123â€‘4567" 
                     (blur)="validateField('phone', customer.phone)"
                     [class.error]="fieldErrors['phone']" />
              <div class="error-message" *ngIf="fieldErrors['phone']">
                {{ fieldErrors['phone'] }}
              </div>
            </div>
            <div class="field">
              <label for="email">Email</label>
              <input id="email" type="email" [(ngModel)]="customer.email" name="email" 
                     placeholder="name@example.com" 
                     (blur)="validateField('email', customer.email)"
                     [class.error]="fieldErrors['email']" />
              <div class="error-message" *ngIf="fieldErrors['email']">
                {{ fieldErrors['email'] }}
              </div>
            </div>
          </div>

          <div class="row">
            <div class="field">
              <label for="stylist" class="req">Stylist</label>
              <select id="stylist" [(ngModel)]="customer.stylist" name="stylist" required
                      [class.error]="fieldErrors['stylist']">
                <option value="" selected disabled>Select stylistâ€¦</option>
                <option>Any Available</option>
                <option>Anna</option>
                <option>Layla</option>
                <option>Maria</option>
                <option>Nora</option>
              </select>
              <div class="error-message" *ngIf="fieldErrors['stylist']">
                {{ fieldErrors['stylist'] }}
              </div>
            </div>
            <div class="field">
              <label for="visitType">Visit Type</label>
              <select id="visitType" [(ngModel)]="customer.visitType" name="visitType">
                <option>New</option>
                <option>Returning</option>
                <option>Walkâ€‘in</option>
              </select>
            </div>
          </div>

          <div class="field">
            <label for="service" class="req">Service</label>
            <select id="service" [(ngModel)]="customer.service" name="service" required
                    [class.error]="fieldErrors['service']">
              <option value="" selected disabled>Select a serviceâ€¦</option>
              <option>Threading</option>
              <option>Waxing</option>
              <option>Tinting</option>
              <option>Lashes</option>
              <option>Facial</option>
            </select>
            <div class="error-message" *ngIf="fieldErrors['service']">
              {{ fieldErrors['service'] }}
            </div>
          </div>

          <div class="field">
            <label for="notes">Notes</label>
            <textarea id="notes" [(ngModel)]="customer.notes" name="notes" 
                      placeholder="Allergies, preferences, reference look, etc."
                      [class.error]="fieldErrors['notes']"></textarea>
            <div class="help">
              {{ customer.notes?.length || 0 }}/500 characters
              <span *ngIf="fieldErrors['notes']" class="error-message"> - {{ fieldErrors['notes'] }}</span>
            </div>
          </div>
        </div>

        <div class="col">
          <div class="field">
            <label>Customer Photo</label>
            <div class="photo-box">
              <div>
                <div><strong>Camera placeholder</strong></div>
                <div class="help">In Angular we'll add live camera + capture here.</div>
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <button type="button" class="btn btn-outline" disabled>Open Camera</button>
              <button type="button" class="btn btn-outline" disabled>Upload Photo</button>
            </div>
          </div>

          <div class="row">
            <div class="field">
              <label for="date">Date</label>
              <input id="date" type="date" [(ngModel)]="customer.date" name="date" 
                     [class.error]="fieldErrors['date']" />
              <div class="error-message" *ngIf="fieldErrors['date']">
                {{ fieldErrors['date'] }}
              </div>
            </div>
            <div class="field">
              <label for="time">Time</label>
              <input id="time" type="time" [(ngModel)]="customer.time" name="time" />
            </div>
          </div>

          <div class="field">
            <label for="price">Quoted Price</label>
            <input id="price" type="number" [(ngModel)]="customer.price" name="price" 
                   inputmode="decimal" placeholder="e.g., 29.99" step="0.01"
                   (blur)="validateField('price', customer.price)"
                   [class.error]="fieldErrors['price']" />
            <div class="error-message" *ngIf="fieldErrors['price']">
              {{ fieldErrors['price'] }}
            </div>
          </div>

          <div class="field">
            <label>Consent</label>
            <div class="row" style="gap:8px">
              <label style="display:flex;align-items:center;gap:8px">
                <input type="checkbox" [(ngModel)]="customer.smsConsent" name="smsConsent" /> SMS reminders
              </label>
              <label style="display:flex;align-items:center;gap:8px">
                <input type="checkbox" [(ngModel)]="customer.emailConsent" name="emailConsent" /> Email updates
              </label>
            </div>
          </div>
        </div>
      </div>

      <div class="actions">
        <button type="button" class="btn btn-outline" (click)="onClear()">Clear</button>
        <button type="submit" class="btn btn-primary">Save Customer</button>
      </div>
      <p class="subtle">Angular Application â€¢ Full form validation enabled</p>
    </form>
  </div>
</div>

<div class="toast" [class.show]="showToast" role="status" aria-live="polite">{{ toastMessage }}</div>
